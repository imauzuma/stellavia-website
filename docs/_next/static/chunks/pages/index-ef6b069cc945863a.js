(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{3757:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>d});var l=t(7876),s=t(4232),i=t(7328),a=t.n(i);let o=[{name:"北海道",latitude:43.0642,longitude:141.3469},{name:"青森県",latitude:40.8244,longitude:140.74},{name:"岩手県",latitude:39.7036,longitude:141.1527},{name:"宮城県",latitude:38.2688,longitude:140.8721},{name:"秋田県",latitude:39.7186,longitude:140.1024},{name:"山形県",latitude:38.2404,longitude:140.3633},{name:"福島県",latitude:37.75,longitude:140.4678},{name:"茨城県",latitude:36.3418,longitude:140.4467},{name:"栃木県",latitude:36.5657,longitude:139.8836},{name:"群馬県",latitude:36.3911,longitude:139.0608},{name:"埼玉県",latitude:35.8569,longitude:139.6489},{name:"千葉県",latitude:35.6073,longitude:140.1063},{name:"東京都",latitude:35.6895,longitude:139.6917},{name:"神奈川県",latitude:35.4475,longitude:139.6425},{name:"新潟県",latitude:37.9024,longitude:139.0236},{name:"富山県",latitude:36.6953,longitude:137.2113},{name:"石川県",latitude:36.5946,longitude:136.6256},{name:"福井県",latitude:36.0652,longitude:136.2219},{name:"山梨県",latitude:35.6641,longitude:138.5684},{name:"長野県",latitude:36.6513,longitude:138.1812},{name:"岐阜県",latitude:35.3911,longitude:136.722},{name:"静岡県",latitude:34.9769,longitude:138.3831},{name:"愛知県",latitude:35.1802,longitude:136.9066},{name:"三重県",latitude:34.7303,longitude:136.5086},{name:"滋賀県",latitude:35.0045,longitude:135.8686},{name:"京都府",latitude:35.0116,longitude:135.7681},{name:"大阪府",latitude:34.6937,longitude:135.5023},{name:"兵庫県",latitude:34.6913,longitude:135.183},{name:"奈良県",latitude:34.6851,longitude:135.805},{name:"和歌山県",latitude:34.2261,longitude:135.1675},{name:"鳥取県",latitude:35.5039,longitude:134.2381},{name:"島根県",latitude:35.4723,longitude:133.0505},{name:"岡山県",latitude:34.6618,longitude:133.9344},{name:"広島県",latitude:34.3966,longitude:132.4596},{name:"山口県",latitude:34.1859,longitude:131.4706},{name:"徳島県",latitude:34.0658,longitude:134.5593},{name:"香川県",latitude:34.3401,longitude:134.0434},{name:"愛媛県",latitude:33.8416,longitude:132.7661},{name:"高知県",latitude:33.5597,longitude:133.5311},{name:"福岡県",latitude:33.6064,longitude:130.4183},{name:"佐賀県",latitude:33.2494,longitude:130.2988},{name:"長崎県",latitude:32.7448,longitude:129.8737},{name:"熊本県",latitude:32.7898,longitude:130.7417},{name:"大分県",latitude:33.2382,longitude:131.6125},{name:"宮崎県",latitude:31.9111,longitude:131.4239},{name:"鹿児島県",latitude:31.5602,longitude:130.5581},{name:"沖縄県",latitude:26.2124,longitude:127.6809}],r=o.findIndex(e=>"東京都"===e.name);function d(){let[e,n]=(0,s.useState)({nickname:"",birthdate:"",birthplace:"東京都",birthtime:"",gender:"male"}),[t,i]=(0,s.useState)({loading:!1,success:!1,error:null,result:null,story:null}),d=e=>{let{name:t,value:l}=e.target;n(e=>({...e,[t]:l}))},c=async n=>{n.preventDefault(),i({loading:!0,success:!1,error:null,result:null,story:null});try{let n=e.birthtime||"12:00",t=o.find(n=>n.name===e.birthplace)||o[r],l={birthDate:e.birthdate,birthTime:n,latitude:t.latitude,longitude:t.longitude,timezoneOffset:9};console.log("Sending request to API:",l);let s=await fetch("https://stellavia-horoscope-api.onrender.com/api/chart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(!s.ok){let e=await s.json();throw Error(e.message||"診断処理中にエラーが発生しました")}let a=await s.json();console.log("Render APIから取得した診断データ:",JSON.stringify(a,null,2)),console.log("データ構造の確認:"),console.log("- result.pluto:",a.pluto),console.log("- result.plutoPolarityPoint:",a.plutoPolarityPoint),console.log("- result.nodes:",a.nodes),console.log("- result.northNode:",a.northNode),console.log("- result.southNode:",a.southNode),console.log("- result.northNodeRuler:",a.northNodeRuler);let d=a.northNode||a.nodes&&a.nodes.northNode,c=a.southNode||a.nodes&&a.nodes.southNode,u=a.northNodeRuler||a.nodes&&a.nodes.ruler,h=a&&a.pluto&&a.pluto.sign&&a.pluto.degree,m=a&&a.plutoPolarityPoint&&a.plutoPolarityPoint.sign&&a.plutoPolarityPoint.degree,g=d&&d.sign&&d.degree,j=c&&c.sign&&c.degree,x=u&&u.planet&&u.sign&&u.degree;console.log("データ存在チェック結果:",{hasPluto:h,hasPPP:m,hasNorthNode:g,hasSouthNode:j,hasNNRuler:x});let p=a&&a.pluto&&a.nodes&&a.nodeRulers?"\nあなたは進化占星術（Evolutionary Astrology）の専門家です。\n以下のデータをもとに、クライアントの魂の進化ストーリーを作成してください。\n\n【データ】\n- Pluto（冥王星）: サイン=".concat(a.pluto.sign,"、度数=").concat(a.pluto.degree,"\n- Pluto Polarity Point: サイン=").concat(a.plutoPolarityPoint.sign,"、度数=").concat(a.plutoPolarityPoint.degree,"\n- North Node（ノースノード）: サイン=").concat(a.nodes.north.sign,"、度数=").concat(a.nodes.north.degree,"\n- South Node（サウスノード）: サイン=").concat(a.nodes.south.sign,"、度数=").concat(a.nodes.south.degree,"\n- North Node支配星: 惑星=").concat(a.nodeRulers.north.planet,"、サイン=").concat(a.nodeRulers.north.sign,"、度数=").concat(a.nodeRulers.north.degree,"\n\n【出力フォーマット】\n1. 過去の魂テーマ（300字程度）\n2. 今生の進化テーマ（300字程度）\n3. 魂の根源的な成長動機（300字程度）\n4. 総合メッセージ（300字程度）\n5. 成長キーワードタグ（3〜5個）\n"):(console.error("診断データが不完全です:",a),"");if(!p)throw console.error("プロンプトの生成に失敗しました。データが不完全です。"),Error("占星データの一部が取得できませんでした。もう一度お試しください。");let N=await fetch("/api/generateStory",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({promptText:p})});if(!N.ok){let e=await N.json();throw Error(e.message||"ストーリー生成中にエラーが発生しました")}let v=await N.json();console.log("Story Response:",v),i({loading:!1,success:!0,error:null,result:a,story:v.story}),setTimeout(()=>{let e=document.getElementById("diagnosisResult");e&&e.scrollIntoView({behavior:"smooth"})},100)}catch(e){console.error("API Error:",e),alert(e instanceof Error?e.message:"処理中にエラーが発生しました"),i({loading:!1,success:!1,error:e instanceof Error?e.message:"処理中にエラーが発生しました",result:null,story:null})}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a(),{children:[(0,l.jsx)("title",{children:"Stellavia - 魂の進化を導く占星体験"}),(0,l.jsx)("meta",{name:"description",content:"Stellaviaは魂の進化をサポートする占星術の新しいアプローチを提供します。自己探求と成長のためのツールとしての占星術を体験してください。"}),(0,l.jsx)("meta",{charSet:"UTF-8"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,l.jsx)("header",{className:"site-header",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("div",{className:"logo",children:"Stellavia"}),(0,l.jsx)("nav",{className:"main-nav",children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#brand",children:"ブランド紹介"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#service",children:"サービス"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#diagnosis",children:"診断"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#contact",children:"お問い合わせ"})})]})})]})}),(0,l.jsx)("section",{className:"hero",id:"hero",children:(0,l.jsxs)("div",{className:"hero-content",children:[(0,l.jsx)("h1",{children:"あなたの魂の旅を、星とともに"}),(0,l.jsx)("p",{children:"Stellavia - 魂の進化を導く占星体験"}),(0,l.jsx)("a",{href:"#brand",className:"btn-primary",children:"詳しく見る"})]})}),(0,l.jsx)("section",{className:"brand",id:"brand",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h2",{children:"Stellaviaの使命"}),(0,l.jsxs)("div",{className:"brand-content",children:[(0,l.jsxs)("div",{className:"brand-text",children:[(0,l.jsx)("p",{children:"Stellaviaは、魂の進化をサポートする占星術の新しいアプローチを提供します。私たちの目的は、単なる占いを超え、自己探求と成長のためのツールとして占星術を活用することです。"}),(0,l.jsx)("p",{children:"星と自己の繋がりを通じて、あなた自身の内なる宇宙を探索し、真の可能性を解き放ちましょう。"})]}),(0,l.jsx)("div",{className:"brand-image",children:(0,l.jsx)("div",{className:"cosmic-circle"})})]})]})}),(0,l.jsx)("section",{className:"service",id:"service",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h2",{children:"魂の進化セッション体験"}),(0,l.jsxs)("div",{className:"service-content",children:[(0,l.jsxs)("div",{className:"service-item",children:[(0,l.jsx)("div",{className:"service-icon",children:(0,l.jsx)("div",{className:"star-icon"})}),(0,l.jsx)("h3",{children:"星と自己の繋がりを探る"}),(0,l.jsx)("p",{children:"あなたの生まれ持った星の配置から、魂の目的と可能性を紐解きます。宇宙の神秘と個人の意識を結びつけるセッションです。"})]}),(0,l.jsxs)("div",{className:"service-item",children:[(0,l.jsx)("div",{className:"service-icon",children:(0,l.jsx)("div",{className:"moon-icon"})}),(0,l.jsx)("h3",{children:"内なる月のリズムを知る"}),(0,l.jsx)("p",{children:"感情の流れと直感力を司る月のエネルギーと調和し、心の平安と感情的な成長を促進します。"})]}),(0,l.jsxs)("div",{className:"service-item",children:[(0,l.jsx)("div",{className:"service-icon",children:(0,l.jsx)("div",{className:"planet-icon"})}),(0,l.jsx)("h3",{children:"魂の進化のプロセス"}),(0,l.jsx)("p",{children:"過去世からの学びと未来への展望を占星術を通して探求し、現在の人生における成長の機会を発見します。"})]})]})]})}),(0,l.jsx)("section",{className:"diagnosis",id:"diagnosis",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h2",{children:"進化占星術 簡易診断"}),(0,l.jsx)("p",{className:"diagnosis-intro",children:"あなたの生年月日と出生地から、星の配置を分析し、魂の進化の道筋を探ります。以下のフォームに情報を入力してください。"}),(0,l.jsxs)("div",{className:"diagnosis-form-container",children:[(0,l.jsxs)("form",{className:"diagnosis-form",onSubmit:c,children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"nickname",children:"ニックネーム（任意）"}),(0,l.jsx)("input",{type:"text",id:"nickname",name:"nickname",value:e.nickname,onChange:d,placeholder:"あなたのニックネーム"})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"birthdate",children:"生年月日"}),(0,l.jsx)("input",{type:"date",id:"birthdate",name:"birthdate",value:e.birthdate,onChange:d,required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"birthplace",children:"出生地（都道府県）"}),(0,l.jsx)("select",{id:"birthplace",name:"birthplace",value:e.birthplace,onChange:d,required:!0,className:"prefecture-select",children:o.map(e=>(0,l.jsx)("option",{value:e.name,children:e.name},e.name))})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{htmlFor:"birthtime",children:"出生時間（任意、未入力時は12:00）"}),(0,l.jsx)("input",{type:"time",id:"birthtime",name:"birthtime",value:e.birthtime,onChange:d})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"性別"}),(0,l.jsxs)("div",{className:"radio-group",children:[(0,l.jsxs)("label",{className:"radio-label",children:[(0,l.jsx)("input",{type:"radio",name:"gender",value:"male",checked:"male"===e.gender,onChange:d,required:!0}),(0,l.jsx)("span",{children:"男性"})]}),(0,l.jsxs)("label",{className:"radio-label",children:[(0,l.jsx)("input",{type:"radio",name:"gender",value:"female",checked:"female"===e.gender,onChange:d}),(0,l.jsx)("span",{children:"女性"})]}),(0,l.jsxs)("label",{className:"radio-label",children:[(0,l.jsx)("input",{type:"radio",name:"gender",value:"other",checked:"other"===e.gender,onChange:d}),(0,l.jsx)("span",{children:"その他"})]})]})]}),(0,l.jsx)("button",{type:"submit",className:"btn-diagnosis",disabled:t.loading,children:t.loading?"診断中...":"診断する"})]}),t.error&&(0,l.jsx)("div",{className:"diagnosis-error",children:(0,l.jsx)("p",{children:t.error})}),t.success&&t.result&&(0,l.jsxs)("div",{className:"diagnosis-result",id:"diagnosisResult",children:[(0,l.jsx)("h3",{children:"診断結果"}),(0,l.jsxs)("div",{className:"result-content",children:[(0,l.jsx)("p",{children:"あなたの星の配置から、以下の特徴が読み取れます："}),(0,l.jsxs)("div",{className:"planet-positions",children:[(0,l.jsx)("h4",{children:"主要天体の位置"}),(0,l.jsxs)("div",{className:"planet-data",children:[(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"冥王星 (Pluto):"})," ",t.result.pluto.sign," ",t.result.pluto.degree,"\xb0"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"冥王星極性点 (PPP):"})," ",t.result.plutoPolarityPoint.sign," ",t.result.plutoPolarityPoint.degree,"\xb0"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"ノースノード:"})," ",t.result.northNode.sign," ",t.result.northNode.degree,"\xb0"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"サウスノード:"})," ",t.result.southNode.sign," ",t.result.southNode.degree,"\xb0"]}),(0,l.jsxs)("p",{children:[(0,l.jsx)("strong",{children:"ノースノード支配星:"})," ",t.result.northNodeRuler.planet," (",t.result.northNodeRuler.sign," ",t.result.northNodeRuler.degree,"\xb0)"]})]})]}),t.story&&(0,l.jsxs)("div",{className:"soul-evolution-story",children:[(0,l.jsx)("h4",{children:"魂の進化ストーリー"}),(0,l.jsx)("div",{className:"story-content",children:t.story})]}),!t.story&&t.loading&&(0,l.jsx)("div",{className:"loading-story",children:(0,l.jsx)("p",{children:"魂の進化ストーリーを生成中です..."})})]})]})]})]})}),(0,l.jsx)("section",{className:"contact",id:"contact",children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("h2",{children:"お問い合わせ"}),(0,l.jsx)("p",{className:"contact-intro",children:"Stellaviaの世界観に触れる最初の一歩を踏み出しませんか？ご質問やセッションのご予約は下記からお気軽にお問い合わせください。"}),(0,l.jsx)("div",{className:"contact-form",children:(0,l.jsx)("a",{href:"mailto:contact@stellavia.com",className:"btn-contact",children:"メールでのお問い合わせ"})})]})}),(0,l.jsx)("footer",{className:"site-footer",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"footer-content",children:[(0,l.jsx)("div",{className:"footer-logo",children:"Stellavia"}),(0,l.jsx)("p",{className:"copyright",children:"\xa9 2025 Stellavia. All rights reserved."})]})})})]})}},6760:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3757)}])},7328:(e,n,t)=>{e.exports=t(9836)}},e=>{var n=n=>e(e.s=n);e.O(0,[636,593,792],()=>n(6760)),_N_E=e.O()}]);